(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t=document.querySelector(".profile__add-button"),n=document.querySelector(".profile__edit-button"),r=document.querySelector("#profile-form"),o=document.querySelector("#add-form"),i={formSelector:".form",inputSelector:".form__item",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__input_type_error",errorClass:"form__item-error_active"};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.image__name,this._link=t.image__link,this._cardSelector=n,this.isLiked=!1,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardTitle=this._element.querySelector(".element__title"),this._cardImage=this._element.querySelector(".element__image"),this._likeButton=this._element.querySelector(".element__like"),this._trashButton=this._element.querySelector(".element__trash"),this._setEventListeners(),this._cardTitle.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=this._name+". Фотография",this._element}},{key:"_like",value:function(){this.isLiked=!this.isLiked,this._likeButton.classList.toggle("element__like_active")}},{key:"_deleteElement",value:function(){this._element.remove()}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._like()})),this._trashButton.addEventListener("click",(function(){e._deleteElement()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){var r=t.data,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"clear",value:function(){this._container.innerHTML=""}},{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderCard",value:function(e){this._renderer(e)}},{key:"renderItems",value:function(){var e=this;this.clear(),this._items.forEach((function(t){e._renderer(t)}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector)}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled","true")):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled"))}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e._toggleButtonState()}))}))}},{key:"checkValidity",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClosePopup=this._handleEscClose.bind(this),this._handleOverlayClosePopup=this._handleOverlayClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_open"),document.addEventListener("keyup",this._handleEscClosePopup),this._popup.addEventListener("mousedown",this._handleOverlayClosePopup)}},{key:"close",value:function(){this._popup.classList.remove("popup_open"),document.removeEventListener("keyup",this._handleEscClosePopup),this._popup.removeEventListener("mousedown",this._handleOverlayClosePopup)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleOverlayClose",value:function(e){e.target===e.currentTarget&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close-button").addEventListener("click",(function(){return e.close()}))}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m(this,e)});function a(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupImage=n._popup.querySelector(".popup__image"),n._popupImageName=n._popup.querySelector(".popup__image-name"),b((t=v(n),k(a.prototype)),"setEventListeners",t).call(t),n}return t=a,(n=[{key:"open",value:function(e,t){b(k(a.prototype),"open",this).call(this),this._popupImageName.textContent=e,this._popupImage.src=t,this._popupImage.alt=e+". Фотография"}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(h);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},O.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function j(e,t){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j(e,t)}function L(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function a(e,t){var n,r=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._handleFormSubmit=r,n._popupForm=n._popup.querySelector(".form"),n._inputList=Array.from(n._popupForm.querySelectorAll(".form__item")),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;O(P(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues())}))}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"close",value:function(){O(P(a.prototype),"close",this).call(this),this._popupForm.reset()}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(h);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(t),this._userDescription=document.querySelector(n)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,description:this._userDescription.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.description;this._userName.textContent=t,this._userDescription.textContent=n}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.p,e.p;var T=new p(i,r),x=new p(i,o);T.enableValidation(),x.enableValidation();var R=new B(".profile__name",".profile__description"),V=new I(".popup_profile",{handleFormSubmit:function(e){R.setUserInfo(e),V.close()}}),F=new I(".popup_add",{handleFormSubmit:function(e){U.addItem(A(e)),F.close()}}),D=new E(".popup_big");function A(e){return new u(e,"#element-template",N).generateCard()}function N(e,t){D.open(e,t)}V.setEventListeners(),F.setEventListeners(),n.addEventListener("click",(function(){T.checkValidity(),V.setInputValues(R.getUserInfo()),V.open()})),t.addEventListener("click",(function(){x.checkValidity(),F.open()}));var U=new c({data:[{image__name:"Архыз",image__link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{image__name:"Челябинская область",image__link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{image__name:"Иваново",image__link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{image__name:"Камчатка",image__link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{image__name:"Холмогорский район",image__link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{image__name:"Байкал",image__link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){U.addItem(A(e))}},".elements");U.renderItems()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJleHBvcnQge2luaXRpYWxDYXJkcywgYnV0dG9uQWRkLCBidXR0b25FZGl0LCBwcm9maWxlRm9ybSwgYWRkRm9ybSwgZm9ybUNvbmZpZ307XG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBpbWFnZV9fbmFtZTogJ9CQ0YDRhdGL0LcnLFxuICAgIGltYWdlX19saW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnXG4gIH0sXG4gIHtcbiAgICBpbWFnZV9fbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxuICAgIGltYWdlX19saW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnXG4gIH0sXG4gIHtcbiAgICBpbWFnZV9fbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcbiAgICBpbWFnZV9fbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZydcbiAgfSxcbiAge1xuICAgIGltYWdlX19uYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXG4gICAgaW1hZ2VfX2xpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZydcbiAgfSxcbiAge1xuICAgIGltYWdlX19uYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxuICAgIGltYWdlX19saW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnXG4gIH0sXG4gIHtcbiAgICBpbWFnZV9fbmFtZTogJ9CR0LDQudC60LDQuycsXG4gICAgaW1hZ2VfX2xpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZydcbiAgfVxuXTtcblxuY29uc3QgYnV0dG9uQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcbmNvbnN0IGJ1dHRvbkVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcblxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvZmlsZS1mb3JtJyk7XG5jb25zdCBhZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1mb3JtJyk7XG5cbmNvbnN0IGZvcm1Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5mb3JtX19pdGVtJyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAnZm9ybV9faXRlbS1lcnJvcl9hY3RpdmUnXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLmltYWdlX19uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmltYWdlX19saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLmlzTGlrZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RpdGxlJyk7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1hZ2UnKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZScpO1xuICAgIHRoaXMuX3RyYXNoQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdHJhc2gnKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZSArIGAuINCk0L7RgtC+0LPRgNCw0YTQuNGPYDtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX2xpa2UoKSB7XG4gICAgdGhpcy5pc0xpa2VkID0gIXRoaXMuaXNMaWtlZDtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gIH1cblxuICBfZGVsZXRlRWxlbWVudCgpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9saWtlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdHJhc2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9kZWxldGVFbGVtZW50KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHtkYXRhLCByZW5kZXJlcn0sINGBb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gZGF0YTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyOyAvL9GE0YPQvdC60YbQuNGPINC60L7Qu9Cx0Y3Quiwg0LrQvtGC0L7RgNCw0Y8g0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINGB0L7Qt9C00LDQvdC40LUg0Lgg0L7RgtGA0LjRgdC+0LLQutGDINC00LDQvdC90YvRhSDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKNGBb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIHJlbmRlckNhcmQoaXRlbSl7XG4gICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSk9PntcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pXG4gIH1cbn0gIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gZGF0YS5mb3JtU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGRhdGEuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGRhdGEuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGRhdGEuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBkYXRhLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gZGF0YS5lcnJvckNsYXNzO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcblxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgLy/Qn9C+0LrQsNC30YvQstCw0LXQvCDQvtGI0LjQsdC60YNcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICB9XG5cbiAgX2lzVmFsaWQoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KVxuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGNoZWNrVmFsaWRpdHkoKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgLy90aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XG4gICAgICBcbiAgICAgIC8vIGlmIChpbnB1dEVsZW1lbnQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgIC8vICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICAgIC8vICAgY29uc3QgYWxsU3BhbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pdGVtLWVycm9yJyk7XG4gICAgICAvLyAgIGFsbFNwYW4uZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgIC8vICAgICBlbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAvLyAgIH0pO1xuICAgICAgLy8gfTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZVBvcHVwID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2VQb3B1cCA9IHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZVBvcHVwKTtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2VQb3B1cCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVFc2NDbG9zZVBvcHVwKTtcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVPdmVybGF5Q2xvc2VQb3B1cCk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlT3ZlcmxheUNsb3NlKGV2dCkge1xuICAgIGlmKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PiB0aGlzLmNsb3NlKCkpO1xuICB9XG59XG5cblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpOyAvL9C90LDRgdC70LXQtNGD0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LrQvtC90YHRgtGA0YPQutGC0L7RgCArINGA0LDRgdGI0LjRgNGP0LXQvCDQtdCz0L5cbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2VOYW1lID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZS1uYW1lJyk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHN1cGVyLm9wZW4oKTsgLy/QstGL0LfRi9Cy0LDQtdC8INGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQvNC10YLQvtC0XG4gICAgLy/QtNC+0L/QvtC70L3Rj9C10Lwg0L3QvtCy0L7QuSDRhNGD0L3QutGG0LjQvtC90LDQu9GM0L3QvtGB0YLRjNGOXG4gICAgdGhpcy5fcG9wdXBJbWFnZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWUgKyBgLiDQpNC+0YLQvtCz0YDQsNGE0LjRj2A7XG4gIH0gIFxuICBcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IgKHBvcHVwU2VsZWN0b3IsIHtoYW5kbGVGb3JtU3VibWl0fSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2l0ZW0nKSk7XG4gIH1cbiAgXG4gIC8v0YHQvtCx0LjRgNCw0LXQvCDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dEVsZW1lbnQubmFtZV0gPSBpbnB1dEVsZW1lbnQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycyAoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywoZXZ0KT0+e1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICB9XG4gIFxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpe1xuICAgIHN1cGVyLmNsb3NlKCk7IC8v0LLRi9C30YvQstCw0LXQvCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtFxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3RvciAobmFtZVNlbGVjdG9yLCBkZXNjcmlwdGlvblNlbGVjdG9yKSB7XG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkZXNjcmlwdGlvblNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCl7XG4gICAgcmV0dXJuIHtuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCwgZGVzY3JpcHRpb246IHRoaXMuX3VzZXJEZXNjcmlwdGlvbi50ZXh0Q29udGVudCx9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oe25hbWUsIGRlc2NyaXB0aW9ufSlcbiAge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcbiAgfVxufSIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IHsgXG4gIGluaXRpYWxDYXJkcyxcbiAgYnV0dG9uQWRkLFxuICBidXR0b25FZGl0LFxuICBwcm9maWxlRm9ybSxcbiAgYWRkRm9ybSxcbiAgZm9ybUNvbmZpZ1xufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBTZWN0aW9uICBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXAvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgSGVhZGVyTG9nbyBmcm9tICcuLi9pbWFnZXMvaGVhZGVyLWxvZ28uc3ZnJztcbmltcG9ydCBBdmF0YXIgZnJvbSAnLi4vaW1hZ2VzL2F2YXRhci5wbmcnO1xuXG5jb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBwcm9maWxlRm9ybSk7XG5jb25zdCBmb3JtQWRkQ29udGVudCA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWcsIGFkZEZvcm0pO1xuXG5mb3JtRWRpdFByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xuZm9ybUFkZENvbnRlbnQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5cbi8v0LrQvtC90YHRgtCw0L3RgtCwINGBINC00LDQvdC90YvQvNC4INC/0YDQvtGE0LjQu9GPXG5jb25zdCBwcm9maWxlID0gbmV3IFVzZXJJbmZvKCcucHJvZmlsZV9fbmFtZScsICcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTtcblxuLy/Qv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfcHJvZmlsZScsIHtcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1EYXRhKSA9PiB7XG4gICAgcHJvZmlsZS5zZXRVc2VySW5mbyhmb3JtRGF0YSk7XG4gICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gIH1cbn0pO1xuXG4vL9C/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxuY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2FkZCcsIHtcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGZvcm1EYXRhKSA9PiB7XG4gICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGZvcm1EYXRhKSk7XG4gICAgYWRkUG9wdXAuY2xvc2UoKTtcbiAgfVxufSk7XG5cbi8v0L/QvtC/0LDQvyDRgSDQuNC30L7QsdGA0LDQttC10L3QuNC10LxcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF9iaWcnKTtcblxuLy/QtNC+0LHQsNCy0LvRj9C10Lwg0YHQu9GD0YjQsNGC0LXQu9C4XG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgJyNlbGVtZW50LXRlbXBsYXRlJywgaGFuZGxlQ2FyZENsaWNrKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbi8v0L7RgtC60YDRi9GC0LjQtSDQv9C+0L/QsNC/0LAg0YEg0LrQsNGA0YLQuNC90LrQvtC5XG5mdW5jdGlvbiBoYW5kbGVDYXJkQ2xpY2sobmFtZSwgbGluaykge1xuICBpbWFnZVBvcHVwLm9wZW4obmFtZSwgbGluayk7XG59XG5cbmJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZvcm1FZGl0UHJvZmlsZS5jaGVja1ZhbGlkaXR5KCk7XG5cbiAgcHJvZmlsZVBvcHVwLnNldElucHV0VmFsdWVzKHByb2ZpbGUuZ2V0VXNlckluZm8oKSk7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuYnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtQWRkQ29udGVudC5jaGVja1ZhbGlkaXR5KCk7XG4gIGFkZFBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vL9C00L7QsdCw0LLQu9C10L3QuNC1INC90LDRh9Cw0LvRjNC90YvRhSDQutCw0YDRgtC+0YfQtdC6INC40Lcg0LzQsNGB0YHQuNCy0LBcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24gKHtcbiAgZGF0YTogaW5pdGlhbENhcmRzLFxuICByZW5kZXJlcjogKGNhcmRJdGVtKSA9PiB7XG4gICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGNhcmRJdGVtKSk7XG4gIH0sXG59LCAnLmVsZW1lbnRzJyk7XG5jYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xuXG5cblxuXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImciLCJnbG9iYWxUaGlzIiwidGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJidXR0b25BZGQiLCJxdWVyeVNlbGVjdG9yIiwiYnV0dG9uRWRpdCIsInByb2ZpbGVGb3JtIiwiYWRkRm9ybSIsImZvcm1Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIkNhcmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJpbWFnZV9fbmFtZSIsIl9saW5rIiwiaW1hZ2VfX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiaXNMaWtlZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRpdGxlIiwiX2NhcmRJbWFnZSIsIl9saWtlQnV0dG9uIiwiX3RyYXNoQnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwidGV4dENvbnRlbnQiLCJhbHQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2UiLCJfZGVsZXRlRWxlbWVudCIsIlNlY3Rpb24iLCLRgW9udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpbm5lckhUTUwiLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW0iLCJjbGVhciIsImZvckVhY2giLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJfZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2J1dHRvbkVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImFkZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lzVmFsaWQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2VQb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlT3ZlcmxheUNsb3NlUG9wdXAiLCJfaGFuZGxlT3ZlcmxheUNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBJbWFnZU5hbWUiLCJuYW1lIiwibGluayIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtIiwiX2Zvcm1WYWx1ZXMiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXQiLCJyZXNldCIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VyRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsImZvcm1FZGl0UHJvZmlsZSIsImZvcm1BZGRDb250ZW50IiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGUiLCJwcm9maWxlUG9wdXAiLCJmb3JtRGF0YSIsInNldFVzZXJJbmZvIiwiYWRkUG9wdXAiLCJjYXJkTGlzdCIsImFkZEl0ZW0iLCJjcmVhdGVDYXJkIiwiaW1hZ2VQb3B1cCIsImdlbmVyYXRlQ2FyZCIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsImNoZWNrVmFsaWRpdHkiLCJzZXRJbnB1dFZhbHVlcyIsImdldFVzZXJJbmZvIiwiY2FyZEl0ZW0iLCJyZW5kZXJJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=